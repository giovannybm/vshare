{
    "targets" : [
        {
            "include_dirs" : [
                "<!(node -e \"require('nan')\")"
            ],
            "target_name" : "proxydetect",
            "sources" : [ "proxydetect.cc" ],
            "conditions": [
                ['OS=="mac"', {
                    "sources": [ "proxydetect-mac.cc" ],
                    "xcode_settings": {
                        "OTHER_LDFLAGS": [
                            "-framework CoreFoundation",
                            "-framework SystemConfiguration"
                        ]
                    },
                }],
                ['OS=="win"', {
                    "sources": [ "proxydetect-win.cc" ]
                }],
                ['OS=="linux"', {
                    "sources": [ "proxydetect-lin.cc" ]
                }]
            ]
        },
        {
            "target_name" : "copy_module",
            "type" : "none",
            "dependencies" : [
                "proxydetect"
            ],
            "copies" : [
                {
                    "destination" : "<(module_root_dir)",
                    "files" : [ "<(PRODUCT_DIR)/proxydetect.node" ]
                }
            ]
        }
    ]
}
